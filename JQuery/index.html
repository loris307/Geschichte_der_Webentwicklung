<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GraphQL Request with Fetch API</title>
</head>
<body>
    <div id="user-data">
        <!-- Hier werden die Benutzerdaten eingefÃ¼gt -->
    </div>

    <script src="script.js"></script>
</body>
</html>

<script>

document.addEventListener('DOMContentLoaded', function() {
    const query = `
        query {
            user(id: "1") {
                name
                email
                penisLaenge
                friends {
                    name
                }
            }
        }`;

    fetch('http://localhost:4000/graphql', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Accept': 'application/json',
        },
        body: JSON.stringify({ query: query })
    })
    .then(response => response.json())
    .then(data => displayUserData(data))
    .catch(error => console.error('Error fetching data:', error));
});

function displayUserData(data) {
    const userData = data.data.user;
    let htmlContent = `<h1>${userData.name}</h1>
                        <p>Email: ${userData.email}</p>
                        <p>Penis: ${userData.penisLaenge}</p>
                        <h2>Friends:</h2>
                        <ul>`;
    userData.friends.forEach(friend => {
        htmlContent += `<li>${friend.name}</li>`;
    });
    htmlContent += '</ul>';

    document.getElementById('user-data').innerHTML = htmlContent;
}

</script>